{"id":"apex-dac-layer","kind":"DAC","type":"DaLayer","systemCategory":"custom","display":{"name":"ApeX DAC","slug":"apex","description":"Set of parties responsible for signing and attesting to the availability of data.","links":{"websites":["https://apex.exchange/"],"apps":["https://pro.apex.exchange/"],"documentation":["https://apex-pro.gitbook.io/apex-pro?lang=en-US"],"explorers":[],"repositories":["https://github.com/ApeX-Protocol/core"],"socialMedia":["https://twitter.com/OfficialApeXdex","https://apexdex.medium.com/","https://t.me/ApeXdex","https://discord.com/invite/apexprotocol","https://youtube.com/@apexprotocol"]}},"technology":{"description":"\n    ## Architecture\n    ![starkex architecture](/images/da-layer-technology/starkex/architecture5.png#center)\n\n    The Starkware application utilizes a data availability solution that relies on a Committee Service to ensure data persistence. This architecture comprises the following components:\n\n    - **Availability Gateway**: The primary interface provided by the operator for committee members to access new batch information and submit signed availability claims.\n    - **Data Availability Committee (DAC)**: A group of nodes responsible for storing state data associated with each Merkle root and attesting to data availability by signing claims.\n    - **Data Batches**: Collections of transactions processed in batches that update the state of accounts, resulting in a new Merkle root representing the updated state.\n    \n    Committee members run services that interact with the Availability Gateway to obtain information about new batches and submit their signed availability claims. Each batch includes a unique batch_id, a reference to a previous batch, and a list of account updates. \n    Committee members combine this information with data from the reference batch to compute the new state and verify the Merkle root.\n    \n    When the operator produces a new batch, it must be signed by a minimum number of committee members—as defined by the application's configuration—for it to be accepted onchain. \n    This includes all members designated as mandatory signers. If the operator attempts to submit a batch without the required signatures, it will be rejected, thereby ensuring that data remains available and consistent.\n    \n    Committee members are expected to maintain a database that stores the data associated with each batch, making use of storage solutions with a replication factor of at least 2.\n  \n    ","references":[{"text":"StarkEx Committee Service - Source Code","href":"https://github.com/starkware-libs/starkex-data-availability-committee"}]},"bridges":[{"id":"apex-dac-bridge","type":"DAC","usedIn":[{"id":"apex","name":"ApeX","slug":"apex"}],"createdAt":1723211933,"chain":1,"requiredMembers":3,"membersCount":5,"transactionDataType":{"type":"StateDiffs","value":"State diffs","description":"TODO"},"contracts":{"addresses":{"ethereum":[{"name":"CommitteeUSDC","isVerified":true,"address":"0x23Cab3CF1aa7B929Df5e9f3712aCA3A6Fb9494E4","chain":"ethereum","description":"Data Availability Committee (DAC) contract for USDC StarkEx instance, verifying data availability claim from DAC Members (via multisig check)."},{"name":"CommitteeUSDT","isVerified":true,"address":"0x7249082BfAFE9BCA502d38a686Ef3df37A0cf800","chain":"ethereum","description":"Data Availability Committee (DAC) contract for USDT StarkEx instance, verifying data availability claim from DAC Members (via multisig check)."}]},"risks":[]},"permissions":{"ethereum":[{"name":"USDC Committee Members","description":"List of addresses authorized to sign data commitments for the DA bridge.","accounts":[{"address":"0x696cC7615A50CF12d1d1B38bF18A5606e9708296","type":"EOA"},{"address":"0x81165b6504520416487E5b4935865b4D3eeaa6e5","type":"EOA"},{"address":"0xA6d068DE0da2Dc1BeCaB509B118CB88723f72b6A","type":"EOA"},{"address":"0x0cbb676d12745948f75aF3A172cb7E4A4f8546e8","type":"EOA"},{"address":"0xB0d71Ff040A941bB9CA8453044634EebCE5A053D","type":"EOA"},{"address":"0x8f3310cc6951AC11F2B125fC8AC2dfA133A9498c","type":"EOA"}]},{"name":"USDT Committee Members","description":"List of addresses authorized to sign data commitments for the DA bridge.","accounts":[{"address":"0x17094A7Cc09686787E0dF95604fd1F9da94B9501","type":"EOA"},{"address":"0x8f3310cc6951AC11F2B125fC8AC2dfA133A9498c","type":"EOA"},{"address":"0xb557219DC53Af7Da9777540426DEe9c196842420","type":"EOA"},{"address":"0x4F753A937318A64b2867b16a55f5aea83A4C44dB","type":"EOA"},{"address":"0x81165b6504520416487E5b4935865b4D3eeaa6e5","type":"EOA"}]}]},"display":{"name":"DA Bridge","slug":"dac","description":"ApeX DAC on Ethereum.","links":{"apps":[],"documentation":[],"explorers":[],"repositories":[],"socialMedia":[],"websites":[]}},"technology":{"description":"\n    ## DA Bridge Architecture\n    ![starkex bridge architecture](/images/da-bridge-technology/starkex/architectureL2.png#center)\n      The DA commitments are posted to the L1 chain, using the Committee Verifier contract as a DA bridge.\n      The DA commitment consists of a data hash of the transaction batch the Committee has signed off on and a concatenation of ec-signatures by signatories.\n      The Committee Verifier contract verifies the signatures and the data hash and if the required threshold of Committee members has signed off on the data, the hash is stored as a registeredFact in the StarkEx contract.\n      In a separate transaction, the operator calls the updateState() function on the StarkEx contract to update the state.\n      Before the state update is accepted, the StarkEx contract verifies the transaction public inputs by calling the isValid() function, which verifies the hash derived from state update inputs matches the hash stored by the Committee Verifier contract.\n    ","risks":[{"category":"Funds can be lost if","text":"a malicious committee signs a data availability attestation for an unavailable transaction batch."}]},"risks":{"committeeSecurity":{"type":"Auto","value":"3/5","sentiment":"bad","description":"The committee does not meet basic security standards, either due to insufficient size, lack of member diversity, or poorly defined threshold parameters. The system lacks an effective DA bridge and it is reliant on the assumption of an honest sequencer, creating significant risks to data integrity and availability."},"upgradeability":{"type":"Immutable","value":"Immutable","sentiment":"bad","description":"The bridge smart contract is immutable and cannot be updated. The bridge committee security is low and cannot be improved."},"relayerFailure":{"type":"SelfPropose","value":"Self propose","sentiment":"good","description":"Anyone can relay data availability commitments to the DA bridge. In case of current relayer failure, users can collect attestations from committee members and propose new data availability commitments to the DA bridge."}}}],"risks":{"economicSecurity":{"type":"Unknown","value":"None","sentiment":"bad","description":"There are no onchain assets at risk of being slashed in case of a data withholding attack, and the committee members are not publicly known."},"fraudDetection":{"type":"NoFraudDetection","value":"None","sentiment":"bad","description":"There is no fraud detection mechanism in place. A data withholding attack can only be detected by nodes downloading the full data from the DA layer."}}}