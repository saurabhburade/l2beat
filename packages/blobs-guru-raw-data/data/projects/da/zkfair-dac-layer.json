{"id":"zkfair-dac-layer","kind":"DAC","type":"DaLayer","systemCategory":"custom","display":{"name":"ZKFair DAC","slug":"zkfair","description":"Set of parties responsible for signing and attesting to the availability of data.","links":{"websites":["https://zkfair.io/"],"apps":["https://wallet.zkfair.io/"],"documentation":["https://docs.zkfair.io/"],"explorers":["https://scan.zkfair.io/"],"repositories":["https://github.com/ZKFair"],"socialMedia":["https://twitter.com/ZKFCommunity"]}},"technology":{"description":"\n    ## Architecture\n    ![polygoncdk architecture](/images/da-layer-technology/polygoncdk/architecture5.png#center)\n\n    Polygon CDK validiums utilize a data availability solution that relies on a Data Availability Committee (DAC) to ensure data integrity and manage off-chain transaction data. \n    This architecture comprises the following components:\n    - **Operator**: A trusted entity that collects transactions, computes hash values for the transaction batch, and then requests and collects signatures from Committee members.\n    - **Data Availability Committee (DAC)**: A group of nodes responsible for validating batch data against the hash values provided by the operator (sequencer), ensuring the data accurately represents the transactions.\n    - **PolygonCommittee Contract**: Contract responsible for managing the data committee members list.\n    Each DAC node independently validates the batch data, ensuring it matches the received hash values. \n    Upon successful validation, DAC members store the hash values locally and generate signatures endorsing the batch's integrity. \n    The sequencer collects these signatures and submits the transactions batch hash together with the aggregated signature on Ethereum.\n    The PolygonCommittee contract is used during batch sequencing to verify that the signature posted by the sequencer was signed off by the DAC members stored in the contract.\n    ","references":[{"text":"Polygon CDK Validium Documentation","href":"https://docs.polygon.technology/cdk/architecture/cdk-validium/#data-availability-committee-dac"}]},"bridges":[{"id":"zkfair-dac-bridge","type":"DAC","usedIn":[{"id":"zkfair","name":"ZKFair","slug":"zkfair"}],"createdAt":1723211933,"contracts":{"addresses":{"ethereum":[{"name":"ZKFairValidium","isVerified":true,"address":"0x1CbC08bf0D48b18F9f97796c61352b192d1850A5","upgradeability":{"proxyType":"EIP1967 proxy","admins":["0xb57b9101dEc7dC1635B576fFf71F2f522C970EF3"],"implementations":["0x668965757127549f8755D2eEd10494B06420213b"]},"chain":"ethereum","description":"The DA bridge and main contract of ZKFair. Contains sequenced transaction batch hashes and signature verification logic for the signed data hash commitment.","upgradableBy":["TimelockExecutor"],"upgradeDelay":"1d delay."},{"name":"ZKFairValidiumDAC","isVerified":true,"address":"0x997CfB0838544f68E59f877EDc905001456F125b","upgradeability":{"proxyType":"EIP1967 proxy","admins":["0xb57b9101dEc7dC1635B576fFf71F2f522C970EF3"],"implementations":["0x63150fA72c1c9fF8Fe4438f8355927D3415b0FDc"]},"chain":"ethereum","description":"Validium committee contract that allows the admin to setup the members of the committee and stores the required amount of signatures threshold.","upgradableBy":["TimelockExecutor"],"upgradeDelay":"1d delay."},{"name":"Timelock","isVerified":true,"address":"0x52882c7564fAca480549145fAc4d0b09eD0D9c17","chain":"ethereum","description":"Contract upgrades have to go through a 1d timelock unless the Emergency State is activated. It is controlled by the TimelockExecutor."}]},"risks":[]},"permissions":{"ethereum":[{"name":"Committee Members","description":"List of addresses authorized to sign data commitments for the DA bridge.","accounts":[{"address":"0x033A75B6B0fc26eDf60e99c4172eB5f87E733ca2","type":"EOA"},{"address":"0x061D273bEf947BD0ef2B828526e710eEa0f297ae","type":"EOA"},{"address":"0x9231622437bD57349cC9a15CDEc5383627DEbA17","type":"EOA"},{"address":"0x9d8616545C9941138832EebC58Cb498E0ef21a13","type":"EOA"},{"address":"0xFe1da7CAd939805d4A889822357c348177a5118d","type":"EOA"}]},{"name":"ZKFairOwner","description":"A Gnosis Safe with 3 / 4 threshold.  Owner of the ZKFairValidium contract, can set core system parameters like replacing the sequencer (relayer), activate forced transactions, update the DA mode and change DAC members by upgrading the ZKFairValidiumDAC contract.","accounts":[{"address":"0x8933Fa0A97f39cd38f56b1887d5cc56cF04F3A88","type":"MultiSig"}],"chain":"ethereum","participants":[{"address":"0x9fAe81C21be8D1Ad91c3617A7b0140dfe0DCe6C7","type":"EOA"},{"address":"0x540C913ad8b197152EB041bC56f9c6Ab314D25Ba","type":"EOA"},{"address":"0xcf6226d0264496abB69eF8BC1DF366c9E00f5b87","type":"EOA"},{"address":"0x4B7f09f4D658638d81Bb2023674B80a9Dd7e9976","type":"EOA"}]},{"name":"DAC Owner","accounts":[{"address":"0xa57c2B747193fe3F9CC8bea89103B7d76B8A0c70","type":"EOA"}],"description":"The owner of the ZKFairValidiumDAC contract, can update the committee member set at any time."},{"name":"Timelock Executor","accounts":[{"address":"0x75575Dc1adD71eA794A52D83f836a13F7891C527","type":"EOA"}],"description":"Controls the ZKFairValidiumDAC and ZKFairValidium contracts through the Timelock. Can upgrade the DA bridge contract implementation and committee members."}]},"chain":1,"requiredMembers":3,"membersCount":5,"transactionDataType":{"type":"StateDiffs","value":"State diffs","description":"TODO"},"display":{"name":"DA Bridge","slug":"dac","description":"ZKFair DAC on Ethereum.","links":{"apps":[],"documentation":[],"explorers":[],"repositories":[],"socialMedia":[],"websites":[]}},"technology":{"description":"\n    ## DA Bridge Architecture\n    ![polygoncdk bridge architecture](/images/da-bridge-technology/polygoncdk/architectureL2.png#center)\n    The DA commitments are posted to the L1 through the sequencer inbox, using the inbox as a DA bridge.\n    The DA commitment consists of a data availability message provided as transaction input, made up of a byte array containing the signatures and all the addresses of the committee in ascending order.\n    The sequencer distributes the data and collects signatures from Committee members offchain. Only the DA message is posted by the sequencer to the L1 chain inbox (the DA bridge).\n    A separate contract, the PolygonCommittee contract, is used to manage the committee members list and verify the signatures before accepting the DA commitment.\n    ","risks":[{"category":"Funds can be lost if","text":"a malicious committee signs a data availability attestation for an unavailable transaction batch."},{"category":"Funds can be lost if","text":"the bridge contract or its dependencies receive a malicious code upgrade. There is no delay on code upgrades."}]},"risks":{"committeeSecurity":{"type":"Auto","value":"3/5","sentiment":"bad","description":"The committee does not meet basic security standards, either due to insufficient size, lack of member diversity, or poorly defined threshold parameters. The system lacks an effective DA bridge and it is reliant on the assumption of an honest sequencer, creating significant risks to data integrity and availability."},"upgradeability":{"type":"LowOrNoDelay","value":"No delay","sentiment":"bad","description":"There is no delay in the upgradeability of the bridge. Users have no time to exit the system before the bridge implementation update is completed."},"relayerFailure":{"type":"NoMechanism","value":"No mechanism","sentiment":"bad","description":"The relayer role is permissioned, and the DA bridge does not have a Security Council or a governance mechanism to propose new relayers. In case of relayer failure, the DA bridge will halt and be unable to recover without the intervention of a centralized entity."}}}],"risks":{"economicSecurity":{"type":"Unknown","value":"None","sentiment":"bad","description":"There are no onchain assets at risk of being slashed in case of a data withholding attack, and the committee members are not publicly known."},"fraudDetection":{"type":"NoFraudDetection","value":"None","sentiment":"bad","description":"There is no fraud detection mechanism in place. A data withholding attack can only be detected by nodes downloading the full data from the DA layer."}}}